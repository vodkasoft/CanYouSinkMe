var applicationMasterModule=angular.module("applicationMaster",[]);applicationMasterModule.controller("MainController",["$scope","$http",function(a,e){a.getApplications=function(){e.get("/applications").success(function(e){for(var t=e.applications,r=t.length-1;r>=0;r--)t[r].registered=new Date(Date.parse(t[r].registered));a.applications=t}).error(function(){$("#general-alert .alert").alert("close"),$("#general-alert").html('<div class="alert alert-danger fade in">Error: Unable to get registered applications <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button></div>')})},a.setPredicate=function(e){a.predicate=e,a.reverse=!a.reverse},a.createApplication=function(){$("#creation-alert .alert").alert("close"),""!==a.newApp.name?($("#new-application-name-form-group").removeClass("has-error"),e.post("/applications",{application:a.newApp},{headers:{"Content-Type":"application/json"}}).success(function(){a.applicationCreated=!0,$("#create-application-modal").modal("hide")}).error(function(a){console.log(a);var e=a.error?a.error:"Unable to create the applitacion";$("#creation-alert").html('<div class="alert alert-danger fade in">Error: '+e+' <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button></div>')})):$("#new-application-name-form-group").addClass("has-error")},$("#create-application-modal").on("show.bs.modal",function(){$("#general-alert .alert").alert("close")}),$("#create-application-modal").on("shown.bs.modal",function(){$("#new-application-name").focus()}),$("#create-application-modal").on("hidden.bs.modal",function(){$("#creation-alert .alert").alert("close"),$("#new-application-name-form-group").removeClass("has-error"),$("#new-application-name").val(""),$("#new-application-description").val(""),a.applicationCreated&&($("#general-alert").html('<div class="alert alert-success fade in">Successfully created application <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button></div>'),a.getApplications(),a.applicationCreated=!1)}),a.predicate="-RegistrationDate",a.newApp={name:"",description:""},a.applicationCreated=!1,a.getApplications()}]);