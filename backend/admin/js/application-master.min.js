var applicationMasterModule=angular.module("applicationMaster",[]);applicationMasterModule.controller("MainController",["$scope","$http",function(e,a){e.getApplications=function(){a.get("/applications").success(function(a){for(var t=a.length-1;t>=0;t--)a[t].registered=new Date(Date.parse(a[t].registered));e.applications=a}).error(function(){$("#general-alert .alert").alert("close"),$("#general-alert").html('<div class="alert alert-danger fade in">Error: Unable to get registered applications <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button></div>')})},e.setPredicate=function(a){e.predicate=a,e.reverse=!e.reverse},e.createApplication=function(){$("#creation-alert .alert").alert("close"),""!==e.newApp.name?($("#new-application-name-form-group").removeClass("has-error"),a.post("/applications","application="+encodeURIComponent(JSON.stringify(e.newApp)),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(){e.applicationCreated=!0,$("#create-application-modal").modal("hide")}).error(function(e){console.log(e);var a=e.error?e.error:"Unable to create the applitacion";$("#creation-alert").html('<div class="alert alert-danger fade in">Error: '+a+' <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button></div>')})):$("#new-application-name-form-group").addClass("has-error")},$("#create-application-modal").on("show.bs.modal",function(){$("#general-alert .alert").alert("close")}),$("#create-application-modal").on("shown.bs.modal",function(){$("#new-application-name").focus()}),$("#create-application-modal").on("hidden.bs.modal",function(){$("#creation-alert .alert").alert("close"),$("#new-application-name-form-group").removeClass("has-error"),$("#new-application-name").val(""),$("#new-application-description").val(""),e.applicationCreated&&($("#general-alert").html('<div class="alert alert-success fade in">Successfully created application <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button></div>'),e.getApplications(),e.applicationCreated=!1)}),e.predicate="-RegistrationDate",e.newApp={name:"",description:""},e.applicationCreated=!1,e.getApplications()}]);